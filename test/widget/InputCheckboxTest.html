<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <script src="../../lib/jquery-1.3.2.js"></script>
  <script src="../testrunner.js"></script>
  <script src="../../build/js/CF_full.js"></script>
  <link rel="stylesheet" href="../testsuite.css" type="text/css" media="screen" />
  <script>

jQuery(function ()
{
	var target = jQuery("#target");

	test("Adding a checkbox preserves its value", function (){
		var cbx = jQuery("<input type='checkbox' value='somevalue'>");
		target.html(cbx);	
		equals(jQuery("#target input[type=checkbox]").val(), "somevalue");
		
	});

	test("Adding a checkbox preserves its value with event", function (){
		var cbx = jQuery("<input type='checkbox' value='somevalue'>");
		cbx.click(function (){alert(clicked)});
		target.html(cbx);	
		equals(jQuery("#target input[type=checkbox]").val(), "somevalue");
		
	});

	test("Adding a checkbox preserves its value CF.build", function (){
		var cbx = CF.build("input", {type:"checkbox", value:"somevalue"});
		cbx.click(function (){alert(clicked)});
		target.html(cbx);	
		equals(jQuery("#target input[type=checkbox]").val(), "somevalue");
		
	});

	test("Adding a checkbox preserves its value CF.template", function (){
		var cbx = CF.template.Engine().render(jQuery("<input type='checkbox' value='somevalue'>").clone(), null, true);
		target.html("");
		target.append(CF.build("div", cbx));	
		equals(jQuery("#target input[type=checkbox]").val(), "somevalue");		
		
	});

	test("Rendering template of complex data kills checkbox value", function (){

	var templString = "\
		<div class='cf_for' rendertag='false' binding='[1]'>\
			<div class='cf_item cf_syndication_icon'>\
				<div class='cf_if' binding='true'>\
					<input type='checkbox' value='somevalue'>\
				</div>\
			</div>\
		</div>\
	"
		var cbx = CF.template.Engine().render(jQuery(templString).clone(), null, true);
		target.html("");
		target.append(CF.build("div", cbx));	
		equals(jQuery("#target input[type=checkbox]").val(), "somevalue");		
	});

});
	
  </script>
	
</head>
<body>
  
 <h1>Input type=checkbox tests</h1>
 <h2 id="banner"></h2>
 <h2 id="userAgent"></h2>

 <ol id="tests"></ol>

 <div id="main"></div>
 
 <div id="target"></div>
 
 
 
</body>
</html>